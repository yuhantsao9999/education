<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>class</title>
    <link rel="stylesheet" href="./css/index.css" />
</head>

<body class="about">
    <div id="header">
        <div class="full-width container clearfix">
            <div>
                <div class="nav_item_bar">
                    <a href="./index.html"> <img id="logo" src="./img/logo.png" alt="logo"></a>
                    <a class="search" href="">探索</a>
                    <input id="search" style="font-size:20px">
                    <button onclick="search_course()" type="submit"></button>
                    <div id="nav" class="col-8">
                        <ul class="clearfix">
                            <li class="active"><a href="#">我要開課</a></li>
                            <li class=""><a href="#">我的課表</a></li>
                            <li class="boundary"><a href="#">登入</a></li>
                            <li><a href="#"><i class="icon-search"></i> 註冊</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-------大報 ------>
    <div id="content">
        <div class="header">
            <div class="container clearfix">
                <div class="row">
                    <div class="col-12">
                        <h1 class="title" id="title">我是大標題</h1>
                        <h3 class="subtitle" id="course_content">我是副標題</h3>
                        <h3 class="subtitle" id="course_teacher">我是小標題</h3>
                    </div>
                </div>
            </div>
        </div>
        <!------- 內容 ------->
        <div>
            <div class="container">
                <div class="class_container" id="class_container">
                    <!-- <div class="row clearfix">
                        <div class="col-4">
                            <img class="class_picture" src="./img/golang.png" alt="photo" />
                        </div>
                        <div class="col-8">
                            <h3 class="title">welcome to my class</h3>
                            <p>
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Laboriosam, similique, quia, iste sed possimus blanditiis dolor eligendi numquam nemo incidunt laudantium consectetur voluptatibus tempora. Sit, quae, ut, temporibus, porro ipsa id consequuntur
                                impedit reprehenderit eligendi ad quia laboriosam dolores numquam ab neque suscipit natus assumenda.
                            </p>
                            <p>
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nesciunt, obcaecati illo architecto sapiente repellendus molestiae veniam hic minus magni error.
                            </p>
                        </div>
                    </div> -->
                </div>
            </div>
        </div>
        <div id="class_chapter_section">
            <div class="class_chapter_section_container" id="class_chapter_section_container">
                <!-- <div class="row clearfix">
                    <div class="col-2">
                        <div class="one" id="test"z</div>
                    </div>
                    <div id=chapter_section_detail>
                        <div class="col-10">
                            <h3 class="title"></h3>
                            <p>
                            </p>
                            <p>
                            </p>
                        </div>
                    </div>
                </div> -->
            </div>
        </div>

        <div class="summary gray-bg">
            <div class="container">

                <div class="row">
                    <div class="col-3">
                        <i class="icon-squares108"></i>
                        <div class="count">36</div>
                        <h4>人已選課</h4>
                    </div>
                    <div class="col-3">
                        <i class="icon-television53"></i>
                        <div class="count">36%</div>
                        <h4>的人透過此課程找到工作</h4>
                    </div>
                    <div class="col-3">
                        <i class="icon-datastorage5"></i>
                        <div class="count">36</div>
                        <h4>則評論</h4>
                    </div>
                    <div class="col-3">
                        <i class="icon-statistics27"></i>
                        <div class="count">5.0</div>
                        <h4>顆星</h4>
                    </div>
                </div>

            </div>
        </div>

        <div class="clients">
            <div class="container">

                <div class="intro big">
                    <h2 class="title">對這門課感興趣的人也看了</h2>
                    <p></p>
                </div>

                <div class="row">
                    <div class="col-2">
                        <img src="#" alt="logo" />
                    </div>
                    <div class="col-2">
                        <img src="#" alt="logo" />
                    </div>
                    <div class="col-2">
                        <img src="#" alt="logo" />
                    </div>
                    <div class="col-2">
                        <img src="#" alt="logo" />
                    </div>
                    <div class="col-2">
                        <img src="#" alt="logo" />
                    </div>
                    <div class="col-2">
                        <img src="#" alt="logo" />
                    </div>
                </div>

            </div>
        </div>

    </div>

    <div id="footer" class="dark">

        <div class="info">
            <div class="container">

                <div class="row">
                    <div class="col-3">
                        <img id="logo" src="./img/logo.png" alt="logo" />
                        <p>讓學習<br>無時無刻無距離</p>
                    </div>
                    <div class="col-3">
                        <h4 class="title">recent posts</h4>
                        <ul class="common-list">
                            <li><a href="#">standard blog post</a></li>
                            <li><a href="#">quotation post</a></li>
                            <li><a href="#">audio post</a></li>

                        </ul>
                    </div>
                    <div class="col-3">
                        <h4 class="title">快速連結</h4>
                        <ul class="common-list">
                            <li><a href="#">關於我們</a></li>
                            <li><a href="#">回到主頁</a></li>
                            <li><a href="#">我要開課</a></li>
                        </ul>
                    </div>

                </div>

            </div>
        </div>

        <div class="bottom">
            <div class="container clearfix">

                <div class="copyright">
                    <div class="title">Copyright 2019 by <a href="#">yuhan</a> | All Rights Reserved</div>
                </div>

                <div class="social-media">
                    <ul>
                        <li><a href="#"><i class="icon-facebook"></i></a></li>
                        <li><a href="#"><i class="icon-twitter"></i></a></li>
                        <li><a href="#"><i class="icon-dribbble"></i></a></li>
                        <li><a href="#"><i class="icon-gplus"></i></a></li>
                        <li><a href="#"><i class="icon-behance"></i></a></li>
                    </ul>
                </div>

            </div>
        </div>
    </div>

    <a href="#header" id="go-top"><i class="icon-up-open"></i></a>

</body>
<script>
    // get search course data
    function search_course() {
        var keyword = document.getElementById("search").value;
        window.location.replace("./search.html?keyword=" + keyword);
    }


    let currentUrl = window.location.href;
    currentUrl = new URL(currentUrl);
    let courseHttp = new XMLHttpRequest();
    var keyword = currentUrl.searchParams.get("keyword");
    let courseUrl = "/education/classinfo/search/?keyword=" + keyword;



    var xmlhttp = new XMLHttpRequest();
    xmlhttp.open("GET", courseUrl, true);
    xmlhttp.send(null);
    xmlhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
            var obj = JSON.parse(xmlhttp.responseText)
            console.log("OBJ : " + obj)
            for (var i = 0; i < 3; i++) {
                //替換課程圖片
                var classImg = document.createElement("img");
                var colDiv = document.createElement("div");
                var rowA = document.createElement("a");
                // var titleContent = document.createTeLINExtNode(obj.Course_title);
                classImg.className = "class_picture";
                classImg.src = "./img/golang.png"
                colDiv.className = "col-4"
                rowA.className = "row clearfix"


                rowA.href = ("/course.html?title=" + obj[i].title);
                console.log("TITLE IS" + obj[i].title)

                colDiv.appendChild(classImg)
                    // document.getElementById("class_container").appendChild(rowDiv)
                    //替換課程標題

                var titleh3 = document.createElement("h3");
                var introP = document.createElement("p");
                var col_8Div = document.createElement("div");
                titleh3.className = "title"

                col_8Div.className = "col-8"

                var titleContent = document.createTextNode(obj[i].title);
                console.log(titleContent)
                var introContent = document.createTextNode(obj[i].intro);
                titleh3.appendChild(titleContent)
                introP.appendChild(introContent)
                col_8Div.appendChild(titleh3)
                col_8Div.appendChild(introP)
                rowA.appendChild(colDiv)
                rowA.appendChild(col_8Div)
                document.getElementById("class_container").appendChild(rowA)
            }


        }
    }
</script>

</html>